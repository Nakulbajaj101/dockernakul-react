sudo: required
language: node_js
node_js:
  - "stable"
services:
  - docker
before_install:
  - docker build -t nakul/awsproject:latest -f Dockerfile.dev .

script:
  #- docker run nakul/awsproject npm run test -- --coverage
  - npm install
  - npm run test
deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "MY3eaRQXZ+NMkchk9dWK11wHtBO3pX+J7CJwgLuT+k8OWU039CmcfeALeX+ZXF6bRKg437UaHuzOPxCyr49AZAnOClSOexfIJG+x/NKdgvYAzXhktuRqgf15rWD8fkSAd+i8yByyUSE2qtyY/B7/vsO7TUCjlQp9NFE5+PrqAXtgzCQGbReVpoV+l0DqzqO9/RtcYSqHocDt8lgzzzsrl8B2mW0cd6U1MxAohrfFoOeb+BGPvLPoeOATg+mWRpMeegt83iz3w5GFMYcYSD3FEVIosmfRwZGB6G2o2xK0WMhWdMm/AUGFsluCyhlYBuZsTBbfoen33OCEcCRsbz7wov6dJFJx40sagSaFcG/4w3cXOwJIR6kQ7JKcQZjOapOiKwU333eIABbPSr6G8PyKfmrY3sd9kS+Dn/whq6FHvMwdB6P7bIh4vZT9H19y6+rvo5wEztO55CLgpC5oNOsaAKayLwZtLrSUZeSBZBu3OiEWdJaknBm3/6cHxeHES86CTKdWmiBmUy/BijGfcVzhvOIo8x5YbDJn92J+TBv6LksMwDxMEhZUyspd/R8Hrd4CiX8hW6Q3czyx/IAbong+sNTW1vID/9+z46U0DJK21ajNNzL5TjVo5rDgSXPWvYF4g9ES5+sAIP9Q2mKdTbgbX0cGQ01pS7rilMTJxKzO9QA="
  secret_access_key:
    secure: "ahSx1qQBh3/LdO6ts0PCyhvW7ext77AkXnxKGbtrbeoDuUNyqtJCt3abHyy+k5nwzFSRzDRV/3WkpJiIttVURGVOAa73caRcwoMMFqOSVePU9As9e9IhPpLJOwsyxSJLaF2vMlIwoCjqbEDOnq3f8Ztp1b4jEHUrMzSyCRuicRkWSuHmibLu5btqqKyalCxx5d/Otykr+gBxuqYy4jlR5uuetIGk96/GNMbQblNIPl5IdTa7hVwRpDQlsUx8HuiH/OitVycrCVGp42nJ5XtZbFth6Qxk6G0Xd2L4IFx7il85RRSkM3lh9NjlRp+emkr9IRGOvwIqecZwnuPDZwUfVHziPDHQW2Shf6+IkP0IZzy6p3XlK59o5cSiZPF4Pr8ziYcnOT+x8m2kKvRVHHZ5dpEu36MqveNSKh/JQaYl7XaxxS3ggTWP958q/DH3vVfeCPTKub/L+KoteO6LJSPF2dy+r44ZBAcVIHbmJwhAws4N8xnS2QsVgPdR9XPpL0BQpgnIuTdSnAYots4uiBq+6/k6WZd56tGCPlpc1mUWScDAbBU+NZPvEyoO+ES0Ch1vdkwGvV400NLpM2L1PtOwljbKPe8xcm0/fLc/yBrTzPFCNYW/wDnwjdoJ/JD5+PFzawMslNusCQef8LLyEflwSkAs88/6dDC5feLrKvxZIxk="
  region: "us-east-2"
  app: "nakul-docker-react"
  env: "NakulDockerReact-env"
  bucket_name: "elasticbeanstalk-us-east-2-135015496169"
  bucket_path: "nakul-docker-react"
  on:
    branch: master
